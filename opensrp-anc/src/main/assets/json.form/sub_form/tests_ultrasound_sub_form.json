{
  "content_form": [
    {
      "key": "ultrasound",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "label": "Ultrasound test",
      "label_text_style": "bold",
      "text_color": "#000000",
      "type": "anc_radio_button",
      "options": [
        {
          "key": "done_today",
          "text": "Done today",
          "type": "done_today",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "done_earlier",
          "text": "Done earlier",
          "type": "done_earlier",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "ordered",
          "text": "Ordered",
          "type": "ordered",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "not_done",
          "text": "Not done",
          "type": "not_done",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        }
      ],
      "v_required": {
        "value": true
      }
    },
    {
      "key": "spacer",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "spacer",
      "type": "spacer",
      "spacer_height": "10dp"
    },
    {
      "key": "ultrasound_notdone",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "native_radio",
      "label": "Reason",
      "label_text_style": "bold",
      "options": [
        {
          "key": "delayed",
          "text": "Delayed to next contact",
          "openmrs_entity_parent": "",
          "openmrs_entity": "MARRIED OR LIVING WITH PARTNER",
          "openmrs_entity_id": "1055"
        },
        {
          "key": "not_available",
          "text": "Not available",
          "openmrs_entity_parent": "",
          "openmrs_entity": "Divorced",
          "openmrs_entity_id": "1058"
        },
        {
          "key": "other",
          "text": "Other (specify)",
          "openmrs_entity_parent": "",
          "openmrs_entity": "Not married",
          "openmrs_entity_id": "5615"
        }
      ],
      "v_required": {
        "value": true,
        "err": "Please specify ultrasound not done"
      },
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "ultrasound_notdone_other",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "edit_text",
      "hint": "Specify",
      "edit_type": "edit_text",
      "relevance": {
        "step1:ultrasound_notdone": {
          "type": "string",
          "ex": "equalTo(., \"other\")"
        }
      },
      "v_required": {
        "value": false,
        "err": "Specify any other reason."
      }
    },
    {
      "key": "ultrasound_date",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "date_picker",
      "hint": "Ultrasound date",
      "expanded": "false",
      "max_date": "today",
      "min_date": "today-9m",
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      },
      "v_required": {
        "value": true,
        "err": "Date that the ultrasound was done."
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "key": "ultrasound_gest_age_wks",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "edit_text",
      "hint": "GA from ultrasound - weeks",
      "v_required": {
        "value": true,
        "err": "Please give the GA from ultrasound - weeks"
      },
      "v_numeric_integer": {
        "value": "true",
        "err": "Enter a Valid GA from ultrasound - weeks value"
      },
      "v_min": {
        "value": "4",
        "err": "GA from ultrasound - weeks must be equal to or greater than 4"
      },
      "v_max": {
        "value": "40",
        "err": "GA from ultrasound - weeks must be equal to or less than 40"
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      },
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "ultrasound_gest_age",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "hidden",
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "key": "ultrasound_done_early_toaster",
      "openmrs_entity_parent": "",
      "openmrs_entity": "Counselling (Human immunodeficiency virus [HIV] counselling)",
      "openmrs_entity_id": "2047",
      "type": "toaster_notes",
      "text": "Early ultrasound done!",
      "toaster_info_text": "An early U/S is key to estimate gestational age, improve detection of fetal anomalies and multiple fetuses, reduce induction of labour for post-term pregnancy, and improve a womanâ€™s pregnancy experience.",
      "toaster_info_title": "Early ultrasound done!",
      "toaster_type": "positive",
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "key": "ultrasound_edd",
      "type": "hidden",
      "label_text_style": "bold",
      "text_color": "#000000",
      "v_required": {
        "value": false
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "key": "spacer",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "spacer",
      "type": "spacer",
      "spacer_height": "10dp"
    },
    {
      "key": "no_of_fetuses_label",
      "type": "label",
      "label_text_style": "bold",
      "text": "No. of fetuses",
      "text_color": "#000000",
      "v_required": {
        "value": true
      },
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "no_of_fetuses",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "numbers_selector",
      "label": "No. of fetuses",
      "number_of_selectors": "5",
      "start_number": "1",
      "max_value": "15",
      "text_size": "16px",
      "text_color": "#000000",
      "selected_text_color": "#ffffff",
      "v_required": {
        "value": true
      },
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "key": "preeclampsia_risk",
      "type": "hidden",
      "label_text_style": "bold",
      "text_color": "#FF0000",
      "v_required": {
        "value": false
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "key": "spacer",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "spacer",
      "type": "spacer",
      "spacer_height": "10dp"
    },
    {
      "key": "pre_eclampsia_toaster",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "toaster_notes",
      "text": "Pre-eclampsia risk counseling",
      "toaster_info_text": "The use of aspirin after 12 weeks gestation is recommended as well as calcium if low dietary intake area. Please also provide counseling. ",
      "toaster_info_title": "Pre-eclampsia risk counseling",
      "toaster_type": "warning",
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "spacer",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "spacer",
      "type": "spacer",
      "spacer_height": "10dp"
    },
    {
      "key": "fetal_presentation",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "native_radio",
      "label": "Fetal presentation",
      "label_text_style": "bold",
      "label_info_text": "If multiple fetuses, indicate the fetal position of the first fetus to be delivered.",
      "options": [
        {
          "key": "cephalic",
          "text": "Cephalic",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "pelvic",
          "text": "Pelvic",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "transverse",
          "text": "Transverse",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "other",
          "text": "Other (specify)",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        }
      ],
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "key": "amniotic_fluid",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "native_radio",
      "label": "Amniotic fluid",
      "label_text_style": "bold",
      "options": [
        {
          "key": "normal",
          "text": "Normal",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "reduced",
          "text": "Reduced",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "increased",
          "text": "Increased",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        }
      ],
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "placenta_location",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "native_radio",
      "label": "Placenta location",
      "label_text_style": "bold",
      "options": [
        {
          "key": "praevia",
          "text": "Praevia",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "low",
          "text": "Low",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "anterior",
          "text": "Anterior",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "posterior",
          "text": "Posterior",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "right_side",
          "text": "Right side",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "left_side",
          "text": "Left side",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        },
        {
          "key": "fundal",
          "text": "Fundal",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": ""
        }
      ],
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      }
    },
    {
      "key": "select_gest_age_edd",
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "type": "native_radio",
      "label": "Select preferred gestational age:",
      "label_info_text": "If the difference between GA from LMP and early ultrasound is one week or less, then use GA from LMP. If the difference is more than 7 days, use the early ultrasound GA. If ultrasound was done late, use GA from LMP. Between late ultrasound and SFH or abdominal palpation, use your best judgment to select GA.",
      "label_info_title": "Select preferred gestational age",
      "label_text_style": "bold",
      "options": [
        {
          "key": "use_lmp",
          "text": "Using LMP",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": "",
          "extra_info": "GA: {lmp_gest_age} <br/> EDD: {lmp_edd}"
        },
        {
          "key": "use_ultrasound",
          "text": "Using ultrasound",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": "",
          "extra_info": "GA: {ultrasound_gest_age} <br> EDD: {ultrasound_edd}"
        },
        {
          "key": "use_sfh_abdominal_palpation",
          "text": "Using SFH or abdominal palpation",
          "openmrs_entity_parent": "",
          "openmrs_entity": "",
          "openmrs_entity_id": "",
          "extra_info": "GA: {sfh_gest_age}<br>EDD: {sfh_edd}"
        }
      ],
      "v_required": {
        "value": true,
        "err": "Please select preferred gestational age"
      },
      "relevance": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_relevance_rules.yml"
          }
        }
      },
      "calculation": {
        "rules-engine": {
          "ex-rules": {
            "rules-file": "tests_calculation_rules.yml"
          }
        }
      }
    },
    {
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "key": "gest_age",
      "type": "hidden",
      "label_text_style": "bold",
      "text": "0",
      "text_color": "#000000",
      "v_required": {
        "value": false
      }
    },
    {
      "openmrs_entity_parent": "",
      "openmrs_entity": "",
      "openmrs_entity_id": "",
      "key": "edd",
      "type": "hidden",
      "label_text_style": "bold",
      "text": "0",
      "text_color": "#000000",
      "v_required": {
        "value": false
      }
    }
  ]
}