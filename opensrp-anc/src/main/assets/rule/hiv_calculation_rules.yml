---
name: step1_hiv_test_partner_date_today_hidden
description: hiv_test_partner_date
priority: 1
condition: "step1_hiv_test_partner_status == 'done_today'"
actions:
  - "calculation = helper.getDateToday()"
---
name: step1_hiv_test_date_today_hidden
description: hiv_test_date
priority: 1
condition: "step1_hiv_test_status == 'done_today'"
actions:
  - "calculation = helper.getDateToday()"
---
name: step1_hiv_test_date_today_hidden
description: hiv_test_date
priority: 1
condition: "step1_hiv_test_status == 'done_today'"
actions:
  - "calculation = helper.getDateToday()"
---
name: step1_hiv_positive
description: hiv_positive
priority: 1
condition: "(step1_hiv_test_result == 'positive') || (global_health_conditions.contains('hiv')) || (global_hiv_test_result == 'positive')"
actions:
  - "calculation = 1"
---
name: step1_partner_hiv_positive
description: partner_hiv_positive
priority: 1
condition: "global_partner_hiv_status == 'positive' || step1_hiv_test_partner_result == 'positive'"
actions:
  - "calculation = 1"
---
name: step1_hiv_risk
description: hiv_risk
priority: 1
condition: "((global_hiv_positive == ''  || global_hiv_positive == 0) && (step1_partner_hiv_positive == 1 || global_alcohol_substance_use.contains('injectable_drugs') || global_occupation.contains('informal_employment_sex_worker') || global_site_anc_hiv == true))"
actions:
  - "calculation = 1"